import{_ as w,u as _,m as C,a as D,b as l,d as t,t as n,e as o,p as f,F as c,l as x,f as B,h as Y,o as r}from"./index-BJnoMinn.js";import{b}from"./boardApi-ClqQsXvP.js";import{h as A}from"./moment-C5S46NFB.js";import"./index-BTu9QAuS.js";const E=async m=>{try{const s=document.createElement("a");s.href=m,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(s){console.error(s)}},F={class:"my-3 d-flex justify-content-between"},L={class:"text-end"},N=["onClick"],R={class:"content"},V={class:"my-5"},H={__name:"BoardDetailPage",setup(m){const s=async p=>{const a="/api/board/download/"+p;await E(a)},v=_(),y=C(),i=Y(),u=y.params.no,e=D({}),k=()=>{i.push({name:"board/list"})},g=()=>{i.push({name:"board/update",params:{no:u}})},h=async()=>{confirm("삭제할까요?")&&(await b.delete(u),i.push({name:"board/list"}))};return(async()=>{e.value=await b.get(u),console.log("DETAIL",e.value)})(),(p,a)=>(r(),l(c,null,[t("h1",null,n(e.value.title),1),t("div",F,[t("div",null,[a[0]||(a[0]=t("i",{class:"fa-solid fa-user"},null,-1)),o(" "+n(e.value.writer),1)]),t("div",null,[a[1]||(a[1]=t("i",{class:"fa-regular fa-clock"},null,-1)),o(" "+n(f(A)(e.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),a[6]||(a[6]=t("hr",null,null,-1)),t("div",L,[(r(!0),l(c,null,x(e.value.attaches,d=>(r(),l("div",{key:d.no,class:"attach"},[t("span",{onClick:M=>s(d.no)},[a[2]||(a[2]=t("i",{class:"fa-solid fa-paperclip"},null,-1)),o(" "+n(d.filename),1)],8,N)]))),128))]),t("div",R,n(e.value.content),1),t("div",V,[t("button",{class:"btn btn-primary me-2",onClick:k},a[3]||(a[3]=[t("i",{class:"fa-solid fa-list"},null,-1),o(" 목록 ")])),f(v).username==e.value.writer?(r(),l(c,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:g},a[4]||(a[4]=[t("i",{class:"fa-regular fa-pen-to-square"},null,-1),o(" 수정 ")])),t("button",{class:"btn btn-danger",onClick:h},a[5]||(a[5]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),o(" 삭제 ")]))],64)):B("",!0)])],64))}},q=w(H,[["__scopeId","data-v-b15c8ce7"]]);export{q as default};
